{% extends "app/layout.html" %}
{% block content %}
{% load static %}
{{ yeas_cnt | json_script:"yeas_cnt" }}
{{ nays_cnt | json_script:"nays_cnt" }}
{{ pres_cnt | json_script:"pres_cnt" }}
{{ novt_cnt | json_script:"novt_cnt" }}
{{ yeas_cnts | json_script:"yeas_cnts" }}
{{ nays_cnts | json_script:"nays_cnts" }}
{{ pres_cnts | json_script:"pres_cnts" }}
{{ novt_cnts | json_script:"novt_cnts" }}
{{ geoids | json_script:"geoids" }}
{{ values | json_script:"values" }}

<div class="row mb-2">
    <div class="col-md-12">
        <div class="row g-0 border rounded overflow-auto flex-md-row mb-4 shadow-sm position-relative">
            <div class="col-md-6 p-4 overflow-auto flex-column position-relative">
                <h2 class="mb-1">{{vote_title}}</h2>
                <h6 class="mb-2">{{vote_time}}</h6>
                <h5>
                    {{vote_question}}
                    <br />
                    Result : {{vote_result}}
                </h5>
                <hr />
                <h3><a href="{{bill_link}}" class="link-dark link-offset-2">{{bill}} </a></h3>
                <p>{{bill_title}}</p>
            </div>
            <div class="col p-2 d-flex flex-column position-static">
                <div class="h-500 w-500">
                    <div id="donut" style="width:500px;height:500px;"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row mb-2">
    <div class="col-md-12">
        <div class="row g-0 border rounded overflow-auto flex-md-row mb-4 shadow-sm position-relative">
            <div class="col p-2 d-flex flex-column position-static">
                <div class="h-500 w-500">
                    <div id="sunburst" style="width:500px;height:500px;"></div>
                </div>
            </div>
            <div class="col p-2 d-flex flex-column position-static">
                <div class="h-500 w-500">
                    <div id="bar" style="width:500px;height:500px;"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row mb-2">
    <div class="col-md-12 g-0 border rounded overflow-auto flex-md-row mb-4 shadow-sm">
        <div class="row p-2 d-flex flex-column position-static">
            <div class="h-1000 w-800">
                <div id="cloro" style="width:1000px;height:800px;"></div>
            </div>
        </div>
    </div>
</div>

<div class="col-md-12 g-0 border rounded overflow-auto flex-md-row mb-4 shadow-sm">
    <table class="table table-bordered table-small">
        <thead>
            <tr>
                <th>Yeas</th>
                <th>Nays</th>
                <th>Present</th>
                <th>No Vote</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>{{yeas_list | safe}}</td>
                <td>{{nays_list | safe}}</td>
                <td>{{pres_list | safe}}</td>
                <td>{{novt_list | safe}}</td>
            </tr>
        </tbody>
    </table>

</div>

<script src="https://cdn.plot.ly/plotly-3.0.0.min.js" charset="utf-8"></script>
<script type="text/javascript" src="{% static geojson_source %}"></script>
<script src="{% static 'scripts/barPlot.js' %}"></script>
<script src="{% static 'scripts/donutPlot.js' %}"></script>
<script src="{% static 'scripts/sunburstPlot.js' %}"></script>
<script src="{% static 'scripts/cloroplethPlot.js' %}"></script>
{% endblock%}
